# iPhone 照片压缩指南

## 🤔 为什么 iPhone 照片无法被压缩？

iPhone 默认使用 **HEIC/HEIF** 格式保存照片，这是 Apple 开发的高效图片格式。但是：

- ❌ 大多数浏览器对 HEIC 的支持有限
- ❌ `browser-image-compression` 库不原生支持 HEIC
- ❌ Web 端的 Canvas API 无法直接处理 HEIC

## ✅ 解决方案

### 方案1：在 iPhone 上修改相机设置（推荐）

**步骤：**
1. 打开 iPhone **设置**
2. 找到并点击 **相机**
3. 点击 **格式**
4. 选择 **最兼容**（而不是"高效"）

**效果：**
- ✅ 之后拍摄的照片会自动保存为 JPEG 格式
- ✅ JPEG 格式完全兼容所有浏览器和压缩工具
- ⚠️ 注意：这不会转换已有的 HEIC 照片

### 方案2：使用 iPhone 自带的格式转换

**通过"隔空投送"或"邮件"自动转换：**
1. 在 iPhone 上选择 HEIC 照片
2. 点击分享按钮
3. 选择"隔空投送"发送到 Mac，或通过"邮件"发送
4. 在弹出的选项中选择 **"自动"** 或 **"兼容"**
5. iPhone 会自动将 HEIC 转换为 JPEG

### 方案3：使用在线转换工具

**推荐工具：**
- [Convertio](https://convertio.co/zh/heic-jpg/) - 在线 HEIC 转 JPEG
- [CloudConvert](https://cloudconvert.com/heic-to-jpg) - 支持批量转换
- [HEIC to JPEG Converter](https://heictojpg.com/) - 简单快速

### 方案4：在 Mac 上转换（如果有 Mac）

**使用"预览"应用：**
1. 在 Mac 上打开 HEIC 图片
2. 点击 **文件** → **导出**
3. 格式选择 **JPEG**
4. 点击 **存储**

**使用快捷指令（批量转换）：**
1. 打开 Mac 的 **快捷指令** 应用
2. 创建新快捷指令：
   - 获取文件夹内容（选择 HEIC 文件）
   - 转换图像（格式：JPEG）
   - 保存文件
3. 一键批量转换

## 📊 格式对比

| 特性 | HEIC | JPEG |
|------|------|------|
| 文件大小 | 更小（约 50% 压缩率） | 较大 |
| 浏览器支持 | ⚠️ 有限 | ✅ 完全支持 |
| 压缩工具支持 | ❌ 很少 | ✅ 通用 |
| iPhone 默认 | ✅ 是 | ⚠️ 需要设置 |

## 🔧 本工具的处理方式

本工具已经添加了 HEIC 格式的检测：

```
✅ 上传 HEIC 文件时会弹出提示
✅ 提供转换建议
✅ 允许尝试上传（部分现代浏览器可能支持）
```

## 💡 最佳实践

1. **新拍照片**：在 iPhone 设置中选择"最兼容"格式
2. **已有照片**：使用方案2或3转换后再压缩
3. **批量处理**：使用 Mac 快捷指令批量转换
4. **云存储**：上传到 iCloud 后，在 iCloud.com 下载时会自动转换为 JPEG

## 🎯 常见问题

**Q: 为什么 iPhone 默认用 HEIC？**
A: HEIC 文件更小，同样质量下能节省约 50% 存储空间。

**Q: HEIC 转 JPEG 会损失质量吗？**
A: 会有轻微质量损失，但肉眼很难察觉。

**Q: 能在浏览器中直接转换 HEIC 吗？**
A: 技术上可以，但需要额外的库（如 heic2any），会增加项目大小和复杂度。

**Q: Safari 浏览器支持 HEIC 吗？**
A: macOS Safari 有一定支持，但 iOS Safari 支持有限，且压缩库仍然无法处理。

## 📝 总结

**最简单的解决方案：**
1. iPhone 设置 → 相机 → 格式 → 选择"最兼容"
2. 以后拍的照片就都是 JPEG 了 ✅

**已有 HEIC 照片：**
- 通过"隔空投送"或"邮件"分享时选择"兼容"模式自动转换
- 或使用在线工具转换

这样就可以愉快地使用图片压缩工具了！🎉

